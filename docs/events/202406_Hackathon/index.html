<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.551">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2024-06-01">
<meta name="description" content="Biology Meets Big Data">

<title>Glasgow CompBio Community - Hackathon 2024</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Glasgow CompBio Community</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../events.html"> 
<span class="menu-text">Monthly Events</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../conference.html"> 
<span class="menu-text">Annual Conference</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-page-left">
      <h1 class="title">Hackathon 2024</h1>
                  <div>
        <div class="description">
          Biology Meets Big Data
        </div>
      </div>
                          <div class="quarto-categories">
                <div class="quarto-category">hackathon</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta column-page-left">

      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">June 1, 2024</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#biology-meets-big-data-hackathon-2024" id="toc-biology-meets-big-data-hackathon-2024" class="nav-link active" data-scroll-target="#biology-meets-big-data-hackathon-2024">Biology Meets Big Data Hackathon 2024</a>
  <ul class="collapse">
  <li><a href="#event-details" id="toc-event-details" class="nav-link" data-scroll-target="#event-details">Event Details</a></li>
  <li><a href="#why-participate" id="toc-why-participate" class="nav-link" data-scroll-target="#why-participate">Why Participate?</a></li>
  <li><a href="#who-should-attend" id="toc-who-should-attend" class="nav-link" data-scroll-target="#who-should-attend">Who Should Attend?</a></li>
  <li><a href="#the-projects" id="toc-the-projects" class="nav-link" data-scroll-target="#the-projects">The Projects</a></li>
  <li><a href="#faqs" id="toc-faqs" class="nav-link" data-scroll-target="#faqs">FAQs</a></li>
  <li><a href="#registration" id="toc-registration" class="nav-link" data-scroll-target="#registration">Registration</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block column-page-left" id="quarto-document-content">





<section id="biology-meets-big-data-hackathon-2024" class="level1">
<h1>Biology Meets Big Data Hackathon 2024</h1>
<p>Welcome to the University of Glasgow Computational Biology Hackathon.&nbsp;</p>
<p>Are you passionate about unravelling the mysteries of life through code and data? Do you dream of collaborating with brilliant minds to tackle complex biological problems? Look no further! Our exclusive hackathon is designed for researchers, students, and enthusiasts who share a common goal: advancing computational biology.</p>
<p><a href="https://forms.office.com/Pages/DesignPageV2.aspx?subpage=design&amp;token=e40eb3bd3575491e830f41c7e50ce6d3&amp;id=KVxybjp2UE-B8i4lTwEzyA7uhp5j0VVAm1l7G2aof01UNk9PSEdERVdZMFlRRUxOUUs1MjRKWFgyVy4u&amp;analysis=false" class="btn btn-info" role="button" data-toggle="tooltip" title="Sign Up Link">Sign Up Here!</a></p>
<section id="event-details" class="level2">
<h2 class="anchored" data-anchor-id="event-details">Event Details</h2>
<ul>
<li><p><strong>Date</strong>: 12th-14th June, 2024</p></li>
<li><p><strong>Time:</strong> 10am-4pm</p></li>
<li><p><strong>Location</strong>: McMillan Round Reading Room, Main Campus, University Avenue.</p></li>
</ul>
</section>
<section id="why-participate" class="level2">
<h2 class="anchored" data-anchor-id="why-participate">Why Participate?</h2>
<ol type="1">
<li><p><strong>Interdisciplinary Exploration</strong>: Dive into the intersection of biology, computer science, and big data analysis.</p></li>
<li><p><strong>Networking</strong>: Connect with fellow researchers and forge collaborative relationships across the University.</p></li>
<li><p><strong>Challenging Problems</strong>: We have curated an exciting range of projects with associated data. Choose your challenge!</p></li>
<li><p><strong>Skill Enhancement</strong>: Learn new coding and data handling skills.</p></li>
</ol>
</section>
<section id="who-should-attend" class="level2">
<h2 class="anchored" data-anchor-id="who-should-attend">Who Should Attend?</h2>
<ul>
<li><p><strong>Postgrads</strong>: Whether youâ€™re a Masters or a PhD candidate, this hackathon is your chance to apply computational techniques to real-world biological questions.</p></li>
<li><p><strong>Researchers</strong>: Join forces with fellow scientists to crack complex problems. Collaborate, brainstorm, and innovate!</p></li>
<li><p><strong>PIs</strong>: Share your expertise and mentor the next generation of computational biologists.</p></li>
</ul>
</section>
<section id="the-projects" class="level2">
<h2 class="anchored" data-anchor-id="the-projects">The Projects</h2>
<ol type="1">
<li><strong>Development of a compact and concurrently accessible open-source standard file format for pyramidal whole slide pathology Images to facilitate AI training.</strong></li>
</ol>
<p>Project lead: Chris Walsh (<a href="mailto:c.walsh@crukscotlandinstitute.ac.uk">c.walsh@crukscotlandinstitute.ac.uk</a>)</p>
<p>Advances in digital pathology have revolutionised the field but resulted has in the challenge of managing vast amounts of data. However, whole slide imaging scanners output the data in proprietary formats which often lack accessibility and flexibility. To address the issue here we propose building a new open source pyramidal file format.</p>
<p>More information about this project can be found <a href="https://gla-my.sharepoint.com/:b:/r/personal/a_pancheva_crukscotlandinstitute_ac_uk/Documents/BigDataMeetsBiologyHackathon/DataFormat.pdf?csf=1&amp;web=1&amp;e=Zi90Ej">here</a>.</p>
<ol start="2" type="1">
<li><strong>HGP-LASAGNE: Resolving histopathological growth patterns in colorectalâ€“liver metastasis into layers of spatial heterogeneity</strong></li>
</ol>
<p>Project lead: Tengyu Zhang (<a href="mailto:t.zhang.6@research.gla.ac.uk">t.zhang.6@research.gla.ac.uk</a>)</p>
<p>Colorectal cancer (CRC) represents a significant global health challenge, ranking as the second-leading cause of cancer-related deaths worldwide. There is a critical need to understand the metastatic processes and imaging based spatial transcriptomics offers this unique opportunity. The goal of the hackathon is to analyse unpublished spatial transcriptomics data from Jamieson Spatial Lab.</p>
<p>More information about this project can be found <a href="https://gla-my.sharepoint.com/:w:/r/personal/a_pancheva_crukscotlandinstitute_ac_uk/Documents/BigDataMeetsBiologyHackathon/HGP-LASAGNE.docx?d=we51600261330441e86b2182fb22d3703&amp;csf=1&amp;web=1&amp;e=K85gc7">here</a>.</p>
<p>Please note that you will have to sign a data sharing/protection declaration before starting work on this project.</p>
<ol start="3" type="1">
<li><strong>Host-Pathogen Extractor: Using text mining, Natural Language Processing, and Deep Learning to automate database creation for infectious disease research and surveillance</strong></li>
</ol>
<p>Project Lead: Max Farrel (<a href="mailto:maxwell.farrell@glasgow.ac.uk">maxwell.farrell@glasgow.ac.uk</a>)</p>
<p>Large scale databases of host-pathogen interactions underlie models that predict future emerging infectious disease threats, and guide surveillance of cross-species pathogens. As the number of papers increases exponentially, automated ways of extracting this information should be considered, however those have been rare in ecology. As part of this project, the hackathon teams will explore different ways of extracting host-pathogen interactions from abstracts, from traditional pattern matching to applying large language models.</p>
<p>More information about this project can be found <a href="https://gla-my.sharepoint.com/:w:/r/personal/a_pancheva_crukscotlandinstitute_ac_uk/Documents/BigDataMeetsBiologyHackathon/HostPathogenExtractor.docx?d=w59b36301f80a4a999528a6193ddcf567&amp;csf=1&amp;web=1&amp;e=2Cz1u4">here</a>.</p>
<ol start="4" type="1">
<li><strong>The FAIR Data Pipeline: Provenance driven data management</strong></li>
</ol>
<p>Project lead: Ryan Field (<a href="mailto:ryan.field@glasgow.ac.uk">ryan.field@glasgow.ac.uk</a>)</p>
<p>To address the issues of FAIR and traceable data and models, the FAIR data pipeline was developed. It is available for various programming languages and is continuously developed by a very small team. The project would greatly benefit from further testing, bug fixing and tutorials. During the Hackathon we hope that team members can test the pipeline on their own real world data and help improve the user experience and documentation.</p>
<p>More information about this project can be found <a href="https://gla-my.sharepoint.com/:w:/r/personal/a_pancheva_crukscotlandinstitute_ac_uk/Documents/BigDataMeetsBiologyHackathon/FAIRDataPipeline.docx?d=w429e6a84e7704d45a2a39fefe6148a57&amp;csf=1&amp;web=1&amp;e=PeE1hN">here</a>.</p>
<ol start="5" type="1">
<li><strong>Development of an iCLIP2 data analysis tool, mapping protein footprints on RNA.</strong></li>
</ol>
<p>Development of a pipeline with a web interface for iCLIP data analysis to allow researchers to upload sequencing data along with required parameters and necessary files for their analysis.</p>
<p>More information to follow!</p>
</section>
<section id="faqs" class="level2">
<h2 class="anchored" data-anchor-id="faqs">FAQs</h2>
<p><strong>Q1:</strong> I want to participate but worried about my coding skills/AI knowledge/etc?</p>
<p>A1: Hackathons are a great environment to learn, so donâ€™t worry, just be upfront with your team lead. You can still contribute in so many ways, like ideas, writing, biological knowledge, management, etc.</p>
<p><strong>Q2:</strong> I can only attend 2 out of the 3 days. Is this a problem?</p>
<p>A2: While attending the full duration of the Hackathon would be beneficial, we understand that committing 3 days might be difficult for some. Please include that information in your application form.</p>
<p><strong>Q3:</strong> I am a master student and worried about my skills suitability.</p>
<p>A3: See Q1. We welcome participants from diverse backgrounds and you can contribute in many different ways. Also, please note that most projects require initial preparation before the Hackathon.</p>
<p><strong>Q4:</strong> What if I donâ€™t know any other participants?</p>
<p>A4: This is a great opportunity to get to know people from across the university! You donâ€™t need to have spoken to anyone prior to signing up, just fill out the <a href="https://forms.office.com/Pages/DesignPageV2.aspx?subpage=design&amp;token=e40eb3bd3575491e830f41c7e50ce6d3&amp;id=KVxybjp2UE-B8i4lTwEzyA7uhp5j0VVAm1l7G2aof01UNk9PSEdERVdZMFlRRUxOUUs1MjRKWFgyVy4u&amp;analysis=false">sign-up form</a> and you will be made very welcome.</p>
<p><strong>Q5:</strong> Will I definitely be included in the team for my preferred project?</p>
<p>A5: We aim to offer every participant a spot on their preferred team but this may not be possible if a project is oversubscribed. This is why we ask you to rank projects by preference on the <a href="https://forms.office.com/Pages/DesignPageV2.aspx?subpage=design&amp;token=e40eb3bd3575491e830f41c7e50ce6d3&amp;id=KVxybjp2UE-B8i4lTwEzyA7uhp5j0VVAm1l7G2aof01UNk9PSEdERVdZMFlRRUxOUUs1MjRKWFgyVy4u&amp;analysis=false">sign-up form</a>. If there is a project you donâ€™t want to be considered for, please indicate this on the form.</p>
</section>
<section id="registration" class="level2">
<h2 class="anchored" data-anchor-id="registration">Registration</h2>
<p>Ready to embark on this scientific adventure? <a href="https://forms.office.com/Pages/DesignPageV2.aspx?subpage=design&amp;token=e40eb3bd3575491e830f41c7e50ce6d3&amp;id=KVxybjp2UE-B8i4lTwEzyA7uhp5j0VVAm1l7G2aof01UNk9PSEdERVdZMFlRRUxOUUs1MjRKWFgyVy4u&amp;analysis=false">Pick your preferred project and reserve your spot now</a>. Limited slots available! Please express your interest and fill in the form by the 31st of May.</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "î§‹";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>